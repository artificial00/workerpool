# Worker Pool на Go

## Описание

Этот проект — реализация пула воркеров (worker pool) на языке Go. Пул воркеров позволяет организовать обработку большого числа задач с помощью ограниченного количества параллельных обработчиков (воркеров).

В текущей реализации можно динамически добавлять и удалять воркеров, отправлять задания на выполнение и корректно завершать работу пула. Для управления жизненным циклом воркеров и задач используются каналы и синхронизация через `sync.WaitGroup` и `sync.Mutex`.

---

## Основные возможности

- Добавление воркеров: можно создать любое количество обработчиков, каждый из которых будет обрабатывать поступающие задачи.
- Удаление воркеров: любой воркер можно остановить по ID.
- Постановка задач: задания отправляются в пул через канал и автоматически распределяются между активными воркерами.
- Корректное завершение: предусмотрено безопасное завершение всех воркеров и ожидание их остановки.
- Потокобезопасность: используется мьютекс для синхронизации доступа к общим структурам данных.
- Юнит-тесты: реализованы тесты на базовую обработку задач, добавление/удаление воркеров и корректное завершение пула.

---

## Юнит-тесты

Тесты расположены в файле `workerpool/workerpool_test.go`.  
Покрываются следующие сценарии:

- Добавление и удаление воркеров.
- Корректное завершение работы пула и всех горутин.

Чтобы запустить тесты, используйте команду:

```sh
   go test ./pkg/workerpool
```
---

## Инструкция по сборке и запуску

1. **Клонировать репозиторий**:

   
```sh
   git clone https://github.com/artificial00/workerpool.git  
```
2. **Запуск проекта**:

   
```sh
   go run main.go
  ```


3. **Запуск тестов**:

   
```sh
   go test ./pkg/workerpool
```

---

## Дополнительные детали

Воркеры и пул реализованы с помощью каналов и `sync.WaitGroup` для корректной синхронизации. Каждый воркер работает в отдельной горутине и реагирует как на новые задания, так и на сигнал остановки. При закрытии пула происходит корректное завершение всех воркеров и ожидание их остановки.

---
